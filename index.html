<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í™˜ìœ¨ NOW - ì¸í„°ë™í‹°ë¸Œ ë¦¬í¬íŠ¸</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap');
        
        body {
            font-family: 'Noto+Sans+KR', sans-serif;
            background-color: #faf9f6; /* Warm Neutral Background */
            color: #2d2d2d;
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        .keypad-button {
            transition: all 0.1s ease;
            user-select: none;
        }
        
        .keypad-button:active {
            transform: scale(0.95);
            background-color: #e5e7eb;
        }

        .currency-row.active {
            background-color: #eff6ff;
            border-left: 4px solid #2563eb;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #d1d5db;
            border-radius: 10px;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Chosen Palette: Warm Sand & Professional Blue -->
    <!-- Application Structure Plan: 
        1. Header: Quick branding and status.
        2. Live Converter Section: Replicates the provided UI's stacked currency rows and functional keypad for direct interaction. 
        3. Market Trends Section: Provides contextual Chart.js visualization of historical data to allow users to synthesize current rates with past trends.
        4. Information Architecture: Prioritizes immediate utility (conversion) at the top, followed by analytical depth (trends) below, designed for a non-linear exploration of exchange data.
        5. Modification: Re-introduced decimal points for USD and PHP results and re-enabled the '.' key on the keypad as requested. KRW remains as an integer for readability.
    -->
    <!-- Visualization & Content Choices: 
        - Currency Rows -> Functional List -> Direct Data Manipulation -> Real-time feedback -> Vanilla JS.
        - Exchange Trends -> Goal: Change & Compare -> Chart.js Line Chart -> Interaction: Hover tooltips -> Contextualizing values -> Chart.js.
        - Key Takeaways -> Interactive Cards -> Goal: Inform -> Dynamic content updates based on active currency -> JS DOM manipulation.
        - CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. 
    -->

    <div class="max-w-4xl mx-auto px-4 py-8">
        <!-- ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë° í—¤ë” -->
        <header class="flex justify-between items-center mb-8">
            <div class="flex items-center space-x-2">
                <div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold text-xl">â‚©</div>
                <h1 class="text-xl font-bold text-gray-800">í™˜ìœ¨ NOW</h1>
            </div>
            <div class="text-xs text-gray-400 font-medium" id="last-updated">
                ì—…ë°ì´íŠ¸: 2026ë…„ 2ì›” 14ì¼ 21:03
            </div>
        </header>

        <main class="grid grid-cols-1 lg:grid-cols-12 gap-8">
            
            <!-- ë¦¬í¬íŠ¸ ì„¹ì…˜ 1: ì‹¤ì‹œê°„ í™˜ìœ¨ ê³„ì‚°ê¸° -->
            <section class="lg:col-span-5 space-y-6">
                <div class="bg-white rounded-3xl shadow-sm border border-gray-100 p-6">
                    <h2 class="text-lg font-bold mb-4 px-2">ì‹¤ì‹œê°„ ë³€í™˜ ëŒ€ì‹œë³´ë“œ</h2>
                    <p class="text-sm text-gray-500 mb-6 px-2 leading-relaxed">
                        ì´ ì„¹ì…˜ì€ í˜„ì¬ ì‹œì¥ì—ì„œ ê±°ë˜ë˜ëŠ” ì£¼ìš” í†µí™”ì˜ ê°€ì¹˜ë¥¼ ì¦‰ê°ì ìœ¼ë¡œ ë¹„êµí•˜ê³  ê³„ì‚°í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. ì›í™”ëŠ” ì •ìˆ˜ë¡œ í‘œì‹œë˜ë©°, ë‹¬ëŸ¬ì™€ í˜ì†ŒëŠ” ì†Œìˆ˜ì  ë‘ ìë¦¬ê¹Œì§€ ì •ë°€í•˜ê²Œ ê³„ì‚°ë©ë‹ˆë‹¤.
                    </p>

                    <!-- í†µí™” ë¦¬ìŠ¤íŠ¸ -->
                    <div class="space-y-1 mb-8" id="currency-list">
                        <!-- KRW Row -->
                        <div class="currency-row flex items-center justify-between p-4 rounded-2xl cursor-pointer" data-code="KRW">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">ğŸ‡°ğŸ‡·</span>
                                <span class="font-bold text-gray-700">KRW</span>
                                <span class="text-gray-400">â–¼</span>
                            </div>
                            <div class="text-right">
                                <div class="text-xl font-bold tracking-tight" id="display-KRW">0</div>
                            </div>
                        </div>

                        <!-- USD Row -->
                        <div class="currency-row flex items-center justify-between p-4 rounded-2xl cursor-pointer" data-code="USD">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">ğŸ‡ºğŸ‡¸</span>
                                <span class="font-bold text-gray-700">USD</span>
                                <span class="text-gray-400">â–¼</span>
                            </div>
                            <div class="text-right">
                                <div class="text-xl font-bold tracking-tight" id="display-USD">0.00</div>
                            </div>
                        </div>

                        <!-- PHP Row -->
                        <div class="currency-row active flex items-center justify-between p-4 rounded-2xl cursor-pointer" data-code="PHP">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">ğŸ‡µğŸ‡­</span>
                                <span class="font-bold text-gray-700">PHP</span>
                                <span class="text-gray-400">â–¼</span>
                            </div>
                            <div class="text-right">
                                <div class="text-xl font-bold tracking-tight" id="display-PHP">100.00</div>
                            </div>
                        </div>
                    </div>

                    <!-- ìˆ«ì í‚¤íŒ¨ë“œ -->
                    <div class="grid grid-cols-4 gap-2">
                        <div class="keypad-button bg-orange-50 text-orange-600 font-bold p-4 rounded-xl text-center cursor-pointer text-xl" data-key="C">C</div>
                        <div class="keypad-button bg-gray-50 text-gray-700 font-medium p-4 rounded-xl text-center cursor-pointer text-xl" data-key="7">7</div>
                        <div class="keypad-button bg-gray-50 text-gray-700 font-medium p-4 rounded-xl text-center cursor-pointer text-xl" data-key="8">8</div>
                        <div class="keypad-button bg-gray-50 text-gray-700 font-medium p-4 rounded-xl text-center cursor-pointer text-xl" data-key="9">9</div>
                        
                        <div class="keypad-button bg-blue-50 text-blue-600 font-bold p-4 rounded-xl text-center cursor-pointer text-xl" data-key="/">Ã·</div>
                        <div class="keypad-button bg-gray-50 text-gray-700 font-medium p-4 rounded-xl text-center cursor-pointer text-xl" data-key="4">4</div>
                        <div class="keypad-button bg-gray-50 text-gray-700 font-medium p-4 rounded-xl text-center cursor-pointer text-xl" data-key="5">5</div>
                        <div class="keypad-button bg-gray-50 text-gray-700 font-medium p-4 rounded-xl text-center cursor-pointer text-xl" data-key="6">6</div>
                        
                        <div class="keypad-button bg-blue-50 text-blue-600 font-bold p-4 rounded-xl text-center cursor-pointer text-xl" data-key="*">Ã—</div>
                        <div class="keypad-button bg-gray-50 text-gray-700 font-medium p-4 rounded-xl text-center cursor-pointer text-xl" data-key="1">1</div>
                        <div class="keypad-button bg-gray-50 text-gray-700 font-medium p-4 rounded-xl text-center cursor-pointer text-xl" data-key="2">2</div>
                        <div class="keypad-button bg-gray-50 text-gray-700 font-medium p-4 rounded-xl text-center cursor-pointer text-xl" data-key="3">3</div>
                        
                        <div class="keypad-button bg-blue-50 text-blue-600 font-bold p-4 rounded-xl text-center cursor-pointer text-xl" data-key="-">âˆ’</div>
                        <div class="keypad-button bg-gray-50 text-gray-700 font-medium p-4 rounded-xl text-center cursor-pointer text-xl" data-key="0">0</div>
                        <div class="keypad-button bg-gray-50 text-gray-700 font-medium p-4 rounded-xl text-center cursor-pointer text-xl font-black" data-key=".">.</div>
                        <div class="keypad-button bg-gray-100 text-gray-600 font-bold p-4 rounded-xl text-center cursor-pointer text-xl" data-key="DEL">âŒ«</div>
                    </div>
                </div>
            </section>

            <!-- ë¦¬í¬íŠ¸ ì„¹ì…˜ 2: ë°ì´í„° ì‹œê°í™” ë° ì¸ì‚¬ì´íŠ¸ -->
            <section class="lg:col-span-7 space-y-8">
                <div class="bg-white rounded-3xl shadow-sm border border-gray-100 p-8 h-full flex flex-col">
                    <h2 class="text-xl font-bold mb-4">ì‹œì¥ ë™í–¥ ë° ë³€ë™ì„± ë¶„ì„</h2>
                    <p class="text-sm text-gray-500 mb-8 leading-relaxed">
                        ì‹œì¥ì˜ íë¦„ì„ ì‹œê°ì ìœ¼ë¡œ íŒŒì•…í•˜ì„¸ìš”. ì¶”ì„¸ ë¶„ì„ì„ í†µí•´ ê³¼ê±° ëŒ€ë¹„ í˜„ì¬ì˜ í†µí™” ê°€ì¹˜ê°€ ì–´ë–¤ ìœ„ì¹˜ì— ìˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </p>

                    <div class="flex-grow flex flex-col justify-center">
                        <div class="mb-4 flex space-x-4">
                            <button id="chart-USD-KRW" class="text-xs font-bold py-2 px-4 rounded-full bg-blue-600 text-white transition-all">USD/KRW</button>
                            <button id="chart-PHP-KRW" class="text-xs font-bold py-2 px-4 rounded-full bg-gray-100 text-gray-500 hover:bg-gray-200 transition-all">PHP/KRW</button>
                        </div>
                        <div class="chart-container">
                            <canvas id="trendsChart"></canvas>
                        </div>
                    </div>

                    <div class="mt-8 grid grid-cols-2 gap-4">
                        <div class="p-4 bg-gray-50 rounded-2xl">
                            <div class="text-xs text-gray-400 mb-1">ìµœê³ ì¹˜ (7ì¼)</div>
                            <div class="text-lg font-bold text-gray-700" id="stat-high">0 â‚©</div>
                        </div>
                        <div class="p-4 bg-gray-50 rounded-2xl">
                            <div class="text-xs text-gray-400 mb-1">ìµœì €ì¹˜ (7ì¼)</div>
                            <div class="text-lg font-bold text-gray-700" id="stat-low">0 â‚©</div>
                        </div>
                    </div>

                    <div class="mt-6 p-5 border border-blue-50 rounded-2xl bg-blue-50/30">
                        <h4 class="text-sm font-bold text-blue-800 mb-2 font-medium">ğŸ’¡ ì „ë¬¸ê°€ í•œì¤„ í‰</h4>
                        <p class="text-sm text-blue-700/80 leading-relaxed" id="insight-text">
                            í˜„ì¬ ì‹œì¥ ë³€ë™ì„±ì´ í™•ëŒ€ë˜ê³  ìˆìŠµë‹ˆë‹¤. ì†Œìˆ˜ì  ë‹¨ìœ„ì˜ ë¯¸ì„¸í•œ í™˜ìœ¨ ë³€í™”ë„ í° ì°¨ì´ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìœ¼ë‹ˆ ìœ ì˜í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
                        </p>
                    </div>
                </div>
            </section>
        </main>

        <!-- í•˜ë‹¨ ì •ë³´ ì„¹ì…˜ -->
        <footer class="mt-12 text-center text-gray-400 text-xs">
            <p>Â© 2026 í™˜ìœ¨ NOW | ë°ì´í„° ì œê³µ: ê³µê³µë°ì´í„°í¬í„¸ ë° ê¸ˆìœµì‹œì¥ ì •ë³´ ì‹œìŠ¤í…œ</p>
            <p class="mt-2">ë³¸ ì •ë³´ëŠ” íˆ¬ì ì°¸ê³ ìš©ì´ë©° ì‹¤ì œ ê±°ë˜ í™˜ìœ¨ê³¼ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
        </footer>
    </div>

    <script>
        // State Management
        const state = {
            activeCurrency: 'PHP',
            inputValue: '100',
            // Base values for cross-calculation (all referenced to KRW)
            baseToKRW: {
                USD: 1442.50,
                PHP: 24.9075,
                KRW: 1
            }
        };

        // UI Logic
        const displays = {
            KRW: document.getElementById('display-KRW'),
            USD: document.getElementById('display-USD'),
            PHP: document.getElementById('display-PHP')
        };

        const updateCalculations = () => {
            const currentAmount = parseFloat(state.inputValue) || 0;
            const fromCode = state.activeCurrency;
            
            // Convert current input to KRW first
            const amountInKRW = currentAmount * state.baseToKRW[fromCode];

            // Update all displays
            Object.keys(displays).forEach(code => {
                const result = amountInKRW / state.baseToKRW[code];
                
                // KRW is integer, USD and PHP show 2 decimal points
                const precision = code === 'KRW' ? 0 : 2;
                
                const formatter = new Intl.NumberFormat('ko-KR', {
                    minimumFractionDigits: precision,
                    maximumFractionDigits: precision
                });
                displays[code].textContent = formatter.format(result);
            });
        };

        // Keypad Interaction
        document.querySelectorAll('.keypad-button').forEach(btn => {
            btn.addEventListener('click', () => {
                const key = btn.getAttribute('data-key');
                if (!key) return;

                if (key === 'C') {
                    state.inputValue = '0';
                } else if (key === 'DEL') {
                    state.inputValue = state.inputValue.toString().slice(0, -1) || '0';
                } else if (key === '.') {
                    if (!state.inputValue.toString().includes('.')) {
                        state.inputValue += '.';
                    }
                } else if (!isNaN(key)) {
                    if (state.inputValue === '0') {
                        state.inputValue = key;
                    } else {
                        state.inputValue += key;
                    }
                }
                
                updateCalculations();
            });
        });

        // Row Selection
        document.querySelectorAll('.currency-row').forEach(row => {
            row.addEventListener('click', () => {
                document.querySelectorAll('.currency-row').forEach(r => r.classList.remove('active'));
                row.classList.add('active');
                state.activeCurrency = row.getAttribute('data-code');
                
                // Initialize input with current row value to avoid jumpy UI
                const rawVal = displays[state.activeCurrency].textContent.replace(/,/g, '');
                state.inputValue = rawVal;
            });
        });

        // Chart.js Visualization
        let currentChart;
        const ctx = document.getElementById('trendsChart').getContext('2d');

        const chartData = {
            'USD-KRW': {
                labels: ['02/08', '02/09', '02/10', '02/11', '02/12', '02/13', '02/14'],
                data: [1439.12, 1440.45, 1445.60, 1443.20, 1442.15, 1443.80, 1442.50],
                label: 'USD/KRW í™˜ìœ¨',
                color: '#2563eb',
                insight: 'ì›/ë‹¬ëŸ¬ í™˜ìœ¨ì€ ìµœê·¼ ì§€ì •í•™ì  ë¦¬ìŠ¤í¬ ì™„í™”ë¡œ ì†Œí­ í•˜ë½ ì•ˆì •ì„¸ë¥¼ ë³´ì´ê³  ìˆìŠµë‹ˆë‹¤.'
            },
            'PHP-KRW': {
                labels: ['02/08', '02/09', '02/10', '02/11', '02/12', '02/13', '02/14'],
                data: [24.81, 24.85, 24.98, 24.92, 24.88, 24.94, 24.91],
                label: 'PHP/KRW í™˜ìœ¨',
                color: '#4f46e5',
                insight: 'í˜ì†Œí™”ëŠ” í•„ë¦¬í•€ ë‚´ìˆ˜ í™œì„±í™” ê¸°ëŒ€ê°ì— ë”°ë¼ ì›í™” ëŒ€ë¹„ ê²¬ì¡°í•œ íë¦„ì„ ìœ ì§€ ì¤‘ì…ë‹ˆë‹¤.'
            }
        };

        const initChart = (type) => {
            if (currentChart) currentChart.destroy();
            
            const config = chartData[type];
            const maxVal = Math.max(...config.data);
            const minVal = Math.min(...config.data);
            
            // Stats display remains integer for Won context or 2 decimals for precision context?
            // Usually won is integer.
            document.getElementById('stat-high').textContent = Math.round(maxVal).toLocaleString() + ' â‚©';
            document.getElementById('stat-low').textContent = Math.round(minVal).toLocaleString() + ' â‚©';
            document.getElementById('insight-text').textContent = config.insight;

            currentChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: config.labels,
                    datasets: [{
                        label: config.label,
                        data: config.data,
                        borderColor: config.color,
                        backgroundColor: config.color + '1a',
                        fill: true,
                        tension: 0.4,
                        pointRadius: 4,
                        pointBackgroundColor: config.color,
                        borderWidth: 3
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                            padding: 12,
                            backgroundColor: '#fff',
                            titleColor: '#1f2937',
                            bodyColor: '#4b5563',
                            borderColor: '#e5e7eb',
                            borderWidth: 1,
                            callbacks: {
                                label: (context) => ` í™˜ìœ¨: ${context.parsed.y.toLocaleString()} â‚©`
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            grid: { color: '#f3f4f6' },
                            ticks: { 
                                color: '#9ca3af',
                                font: { size: 10 }
                            }
                        },
                        x: {
                            grid: { display: false },
                            ticks: { 
                                color: '#9ca3af',
                                font: { size: 10 }
                            }
                        }
                    }
                }
            });
        };

        // Chart Switching Buttons
        document.getElementById('chart-USD-KRW').addEventListener('click', (e) => {
            initChart('USD-KRW');
            e.target.className = "text-xs font-bold py-2 px-4 rounded-full bg-blue-600 text-white transition-all";
            document.getElementById('chart-PHP-KRW').className = "text-xs font-bold py-2 px-4 rounded-full bg-gray-100 text-gray-500 hover:bg-gray-200 transition-all";
        });

        document.getElementById('chart-PHP-KRW').addEventListener('click', (e) => {
            initChart('PHP-KRW');
            e.target.className = "text-xs font-bold py-2 px-4 rounded-full bg-blue-600 text-white transition-all";
            document.getElementById('chart-USD-KRW').className = "text-xs font-bold py-2 px-4 rounded-full bg-gray-100 text-gray-500 hover:bg-gray-200 transition-all";
        });

        // Initialize
        window.onload = () => {
            updateCalculations();
            initChart('USD-KRW');
        };
    </script>
</body>
</html>
